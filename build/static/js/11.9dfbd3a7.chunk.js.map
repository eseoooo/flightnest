{"version":3,"sources":["UI/Inputs/SingleInput.js","UI/Inputs/SingleInput.module.css","UI/SignOn/SignUp.module.css","UI/SignOn/SignUp.js"],"names":["SingleInput","props","className","classes","icon","inputProps","module","exports","SignUp","dispatch","useDispatch","history","useHistory","useState","displayName","setDisplayName","firstName","setFirstName","lastName","setLastName","emailAddress","setEmailAddress","phoneNumber","setPhoneNumber","password","setPassword","ReactDOM","createPortal","onSubmit","event","message","preventDefault","emailTest","test","String","toLowerCase","phoneTest","notificationActions","showNotification","success","setTimeout","hideNotification","userData","avatar","id","bookmarks","profileDetails","createUser","replace","type","required","minLength","value","onChange","target","placeholder","to","document","body"],"mappings":"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","file":"static/js/11.9dfbd3a7.chunk.js","sourcesContent":["import classes from \"./SingleInput.module.css\";\r\n\r\nconst SingleInput = (props) => {\r\n\treturn (\r\n\t\t<div className={classes.SingleInput}>\r\n\t\t\t{props.icon}\r\n\t\t\t<input {...props.inputProps} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SingleInput;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SingleInput\":\"SingleInput_SingleInput__2bVGi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SignUp\":\"SignUp_SignUp__9fvtx\",\"SignUp__image\":\"SignUp_SignUp__image__3QuvN\",\"SignUp__form\":\"SignUp_SignUp__form__1hGKa\",\"active\":\"SignUp_active__1oyBY\"};","import classes from \"./SignUp.module.css\";\r\nimport ReactDOM from \"react-dom\";\r\nimport SingleInput from \"../Inputs/SingleInput\";\r\nimport SubmitButton from \"../Buttons/SubmitButton\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useState } from \"react\";\r\nimport Logo from \"../../components/Layout/MainHeader/Logo\";\r\nimport { notificationActions } from \"../../store/notification-slice\";\r\nimport { createUser } from \"../../store/main-actions\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst SignUp = (props) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst [displayName, setDisplayName] = useState(\"\");\r\n\tconst [firstName, setFirstName] = useState(\"\");\r\n\tconst [lastName, setLastName] = useState(\"\");\r\n\tconst [emailAddress, setEmailAddress] = useState(\"\");\r\n\tconst [phoneNumber, setPhoneNumber] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\r\n\tconst displayNameChangeHandler = (event) => {\r\n\t\tsetDisplayName(event.target.value);\r\n\t};\r\n\r\n\tconst firstNameChangeHandler = (event) => {\r\n\t\tsetFirstName(event.target.value);\r\n\t};\r\n\r\n\tconst lastNameChangeHandler = (event) => {\r\n\t\tsetLastName(event.target.value);\r\n\t};\r\n\r\n\tconst emailAddressChangeHandler = (event) => {\r\n\t\tsetEmailAddress(event.target.value);\r\n\t};\r\n\r\n\tconst phoneNumberChangeHandler = (event) => {\r\n\t\tsetPhoneNumber(event.target.value);\r\n\t};\r\n\r\n\tconst passwordChangeHandler = (event) => {\r\n\t\tsetPassword(event.target.value);\r\n\t};\r\n\r\n\tconst submitHandler = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\t// check input\r\n\t\tlet message;\r\n\t\t//validate email\r\n\t\tconst emailRegex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/gi;\r\n\t\tconst emailTest = emailRegex.test(String(emailAddress).toLowerCase());\r\n\t\tif (!emailTest) message = \"email address\";\r\n\r\n\t\t//validate phone number\r\n\t\tconst phoneRegex = /^(\\+\\d{1,2}\\s)?\\(?\\d{3}\\)?[\\s.-]?\\d{3}[\\s.-]?\\d{4}$/gi;\r\n\t\tconst phoneTest = phoneRegex.test(String(phoneNumber));\r\n\t\tif (!emailTest) message = \"phone number\";\r\n\t\t// console.log(emailTest, phoneTest);\r\n\r\n\t\tif (!emailTest || !phoneTest) {\r\n\t\t\tdispatch(\r\n\t\t\t\tnotificationActions.showNotification({\r\n\t\t\t\t\tmessage: `Please enter a valid ${message}!`,\r\n\t\t\t\t\tsuccess: false,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tdispatch(notificationActions.hideNotification());\r\n\t\t\t}, 3000);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//parse userData\r\n\t\tconst userData = {\r\n\t\t\tavatar: { id: 0 },\r\n\t\t\tbookmarks: \"[]\",\r\n\t\t\tprofileDetails: {\r\n\t\t\t\tdisplayName,\r\n\t\t\t\temailAddress,\r\n\t\t\t\tpassword,\r\n\t\t\t\tfirstName,\r\n\t\t\t\tlastName,\r\n\t\t\t\tphoneNumber,\r\n\t\t\t},\r\n\t\t};\r\n\t\t//send request to add account\r\n\t\tdispatch(createUser(userData));\r\n\r\n\t\t// show success/fail message\r\n\t\t// if success, show redirecting to sign in or link to sign in\r\n\t\tsetTimeout(() => {\r\n\t\t\thistory.replace(\"./sign-in\");\r\n\t\t}, 8000);\r\n\t\t// if fail, show reason e.g user exists. try logging in\r\n\t};\r\n\r\n\treturn ReactDOM.createPortal(\r\n\t\t<div className={classes.SignUp}>\r\n\t\t\t<div className={classes[\"SignUp__image\"]}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Logo />\r\n\t\t\t\t</div>\r\n\t\t\t\t<h1>\r\n\t\t\t\t\tDiscover the cheapest <br />\r\n\t\t\t\t\tflights. Register today!\r\n\t\t\t\t</h1>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={classes[\"SignUp__form\"]}>\r\n\t\t\t\t<h2>Sign up to Flightnest</h2>\r\n\t\t\t\t<form onSubmit={submitHandler}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h4>First name</h4>\r\n\t\t\t\t\t\t<SingleInput\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tminLength: 2,\r\n\t\t\t\t\t\t\t\tvalue: firstName,\r\n\t\t\t\t\t\t\t\tonChange: firstNameChangeHandler,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h4>Last name</h4>\r\n\t\t\t\t\t\t<SingleInput\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tminLength: 2,\r\n\t\t\t\t\t\t\t\tvalue: lastName,\r\n\t\t\t\t\t\t\t\tonChange: lastNameChangeHandler,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h4>Display name</h4>\r\n\t\t\t\t\t\t<SingleInput\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tminLength: 2,\r\n\t\t\t\t\t\t\t\tvalue: displayName,\r\n\t\t\t\t\t\t\t\tonChange: displayNameChangeHandler,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h4>Phone number</h4>\r\n\t\t\t\t\t\t<SingleInput\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tminLength: 10,\r\n\t\t\t\t\t\t\t\tvalue: phoneNumber,\r\n\t\t\t\t\t\t\t\tonChange: phoneNumberChangeHandler,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h4>Email address</h4>\r\n\t\t\t\t\t\t<SingleInput\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\ttype: \"email\",\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tvalue: emailAddress,\r\n\t\t\t\t\t\t\t\tonChange: emailAddressChangeHandler,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h4>Password</h4>\r\n\t\t\t\t\t\t<SingleInput\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\ttype: \"password\",\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tminLength: 6,\r\n\t\t\t\t\t\t\t\tplaceholder: \"6+ characters\",\r\n\t\t\t\t\t\t\t\tvalue: password,\r\n\t\t\t\t\t\t\t\tonChange: passwordChangeHandler,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<SubmitButton>Create Account</SubmitButton>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\tAlready a member? <NavLink to=\"/sign-in\">Sign In</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>,\r\n\t\tdocument.body\r\n\t);\r\n};\r\n\r\nexport default SignUp;\r\n"],"sourceRoot":""}